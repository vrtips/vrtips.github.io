<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="VRChat avatar creation blog for tips and tricks from a simple user 'Future Proof Publish SDK Option'"><title>Future Proof Publish SDK Option | VRTips</title><meta property="og:title" content="Future Proof Publish SDK Option"><meta property="og:type" content="article"><meta property="article:published_time" content="2021-08-11"><meta property="og:url" content="https://vrtips.github.io/posts/futureproof/"><meta property="og:site_name" content="VRTips"><meta property="og:image" content="https://vrtips.github.io/images/thumbnail.png"><meta property="og:tags" content="avatar"><meta property="og:tags" content="sdk3"><meta property="og:tags" content="analysis"><meta property="og:tags" content="security"><meta property="og:tags" content="content"><link rel=icon href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/vendor/bootstrap/bootstrap.min.css><link rel=stylesheet href=/vendor/magnific-popup/magnific-popup.css><link rel=stylesheet href=/vendor/wow/animate.css><link rel=stylesheet href=/css/style.css></head><body><header class=header-area><div class=container><div class=row><div class=col-12><nav class="navbar navbar-expand-lg"><a class=navbar-brand href=/><img src=/images/sesivrlogo.png alt=Logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#nav aria-controls=nav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=nav><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/>Blog</a></li><li class=nav-item><a class=nav-link href=/categories>Categories</a></li><li class=nav-item><a class=nav-link href=/tags>Tags</a></li></ul><div id=search-wrapper><form action=https://google.com/search><input type=search placeholder=Keyword name=q class=search>
<i class="fa fa-search"></i>
<input type=hidden name=sitesearch value=https://vrtips.github.io/></form></div></div></div></nav></div></div></div></header><div class=top-area><div class="top-video top-video-small"><div id=waves class=video></div><div class=container><div class=title-message><a href=https://vrtips.github.io/posts/futureproof/><h1>Future Proof Publish SDK Option</h1></a></div></div></div></div><div class=container><div class="row justify-content-center"><div class="col-12 col-lg-8"><div class=post-title><a href=https://vrtips.github.io/posts/futureproof/><div class=post-meta><time></time></div></a></div><section class=post-content><h1 id=what-the-future-proof-doin>What the Future proof doin?</h1><p>In this post we will examine more in depth what the <code>Future proof Publish</code> option does in the VRChat SDK control panel. This post is a bit technical but I will try to put a simple explanation as conclusion for those of you who only wanted to know what and why.</p><h2 id=where-is-it>Where is it?</h2><p>If you open your VRChat SDK control panel in unity and go to the Settings tab you will see a &ldquo;Future Proof Publish&rdquo; option which at the moment of writing is by default off.<br>How does VRChat future proof your publish? Let&rsquo;s find out</p><p><img src=https://i.imgur.com/Q2NXaGm.png alt=checkbox></p><h2 id=the-code>The code</h2><p>Opening <code>\Assets\VRCSDK\SDK3A\Editor\VRCSdkControlPanelAvatarBuilder3A.cs</code> inside of the method <code>OnGUIAvatar(VRC_AvatarDescriptor)</code> we can spot in the uploading process this line:</p><p><img src=https://i.imgur.com/5KMm89h.png alt="sussy line"></p><p>The method called on the line under that is from a compiled binary: <code>\Assets\VRCSDK\Plugins\VRCSDKBase-Editor.dll</code> which we can start decompiling using dnSpy but the rest of the code is assigned at runtime and I cannot be bothered checking it too much.</p><p><img src=https://i.imgur.com/m42A2Nv.png alt=ExportAndUploadAvatarBlueprint></p><p>So to confirm we try it and check what the API gives us back</p><h2 id=testing-the-api>Testing the API</h2><p>I have uploaded the same avatar with and without the checkmark on the Future Proof Publish feature and here&rsquo;s the API calls to check the avatars</p><p>With Future proofing OFF<br><img src=https://i.imgur.com/yNEouMw.png alt="Future proof off"></p><p>With Future proofing ON<br><img src=https://i.imgur.com/RlZ29fL.png alt="Future proof on"></p><p>We can notice that when it&rsquo;s on we can indeed download the <code>.unitypackage</code> of our avatar!</p><p><img src=https://i.imgur.com/qdXOCst.png alt=download></p><p>This means that potentially someone could not only obtain our avatar (usually in <code>.vrca</code> format) but they could obtain the exact files we&rsquo;ve used to create it!</p><p>Or so it would seem&mldr;</p><h2 id=testing-but-with-a-friend-thanks-whanos>Testing but with a friend (Thanks Whanos)</h2><p>Now, those tests were made by me requesting info on my own avatar. Let&rsquo;s try and see if someone else tries to get that info on my avatar.<br>I&rsquo;ve asked my friend Whanos to help me on this since I needed someone who could make API requests (I&rsquo;ve tested this using Insomnia) and would you look at that!</p><p><img src=https://i.imgur.com/o70nkIV.png alt="whanos results"></p><ul><li>First discovery: You cannot query an avatar directly from that endpoint if it&rsquo;s private. (which is why you see it set as public there)</li><li>Second discovery: If someone else asks for the info, they will not be given the UnityPackage property!</li></ul><p>Hooray! Our avatars are safe then!<br>Our avatars are safe then, right?</p><p>Well you see, the game still have to fetch the avatar somehow to display it to you in game&mldr; so&mldr;</p><h2 id=taking-a-look-inside-of-the-game>Taking a look inside of the game</h2><p>I will not go too much in detail on how to achieve this since it could be used maliciously and the last thing I want is to give easy access to how to steal avatars from others. Therefore, compared to the rest of my screenshots, I will limit myself to ONLY the part that interests us.</p><p>We are interested to see if the in-game object holding our avatar data is holding our Unity Package link or not. So after some digging around the way that VRChat manages this I breathed a sigh of relief when I saw this</p><p><img src=https://i.imgur.com/lwXxkI5.png alt="In Game analysis"></p><p>Fortunately the game, despite having fields for it, does not give out the unity package url to everyone.</p><h2 id=does-this-mean-our-avatars-are-safe-from-being-ripped>Does this mean our avatars are safe from being ripped?</h2><p>No, of course not. As I said, the game does have to download the model to show it to everyone in your instance so somehow all the data about it has to reach someone else&rsquo;s PC.<br>Now, I would also like to add that what they get is a &ldquo;compiled&rdquo; and &ldquo;compressed&rdquo; version of your avatar in the format <code>.vrca</code> (which turns out being a <code>UnityFS</code> file). It is 100% possible to steal the mesh and the textures from this file in addition to animations and animator controllers. Scripts are safe and so are shaders since those are compiled</p><h1 id=conclusion>Conclusion</h1><p>So, your avatars are at least protected from being a simple &ldquo;import into Unity&rdquo; kind of deal. The future proof option could as well serve as a backup in case you lose your files for some reason since you can always query the API and get the UnityPackage url.</p><p>This feature exists so that in VRC ever needs an update that requires recompiling your avatar they can do it for you (or the SDK can do it since I would expect them to not want thousands of avatars to be recompiled on their servers) and you&rsquo;re free to keep it on or off as you wish since no harm or file leaks come directly from this feature.</p><p>As per usual in security, this does not mean that this file is safe. The file is there and on their server and if someone, somehow, gets the link then they can download it without even authenticating.</p><p>If you like my content and want to support me, I have a Patreon you can find in the <a href=https://sesivr.netlify.app/about/>About</a> page.</p></section><time><i class="far fa-clock"></i>
Wednesday, Aug 11, 2021 08:55</time><hr class=summary-sep><div class=recommend-articles><h3>Recommend these articles</h3><ul><li><a href=https://vrtips.github.io/posts/small/ rel=prev><span>Avatars under the minimum size limit</span></a></li><li><a href=https://vrtips.github.io/posts/weights/ rel=next><span>Weighting (Skinning) limits for meshes in VRChat</span></a></li></ul></div></div><div id=sidebar class="col-12 col-md-8 col-lg-4"><div class=post-sidebar-area><div id=post-toc class=sidebar-widget-area><div class=title><i class="fa fa-list"></i>
TOC</div><div class=widget-content><nav id=TableOfContents><ul><li><a href=#where-is-it>Where is it?</a></li><li><a href=#the-code>The code</a></li><li><a href=#testing-the-api>Testing the API</a></li><li><a href=#testing-but-with-a-friend-thanks-whanos>Testing but with a friend (Thanks Whanos)</a></li><li><a href=#taking-a-look-inside-of-the-game>Taking a look inside of the game</a></li><li><a href=#does-this-mean-our-avatars-are-safe-from-being-ripped>Does this mean our avatars are safe from being ripped?</a></li></ul></nav></div></div><div class=sidebar-widget-area><div class=title><i class="fa fa-tag"></i>
Tags</div><div class=widget-content><a href=https://vrtips.github.io/tags/avatar class="badge badge-secondary">avatar</a>
<a href=https://vrtips.github.io/tags/sdk3 class="badge badge-secondary">sdk3</a>
<a href=https://vrtips.github.io/tags/analysis class="badge badge-secondary">analysis</a>
<a href=https://vrtips.github.io/tags/security class="badge badge-secondary">security</a>
<a href=https://vrtips.github.io/tags/content class="badge badge-secondary">content</a></div></div></div></div></div></div><footer class=footer-area><div class=container><div class=row><div class="col-12 col-md-4"><div class=footer-single-widget><div class="copywrite-text mt-30"><p>Copyright &copy;
<script>document.write((new Date).getFullYear())</script>All rights reserved</p><p>Made with by Gyuha</p></div></div></div></div></div></footer><script src=/vendor/jquery-2.2.4.min.js></script>
<script src=/vendor/bootstrap/popper.min.js></script>
<script src=/vendor/bootstrap/bootstrap.min.js></script>
<script src=/vendor/native-console.js></script>
<script src=/vendor/jquery.easing.1.3.js></script>
<script src=/vendor/jquery.scrollUp.min.js></script>
<script src=/js/active.js></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js></script>
<script>hljs.initHighlightingOnLoad()</script><script src=//cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js></script>
<script src=//cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js></script>
<script>$(function(){window.VANTA&&window.VANTA.NET({el:"#waves",mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:4171007})})</script></body></html>